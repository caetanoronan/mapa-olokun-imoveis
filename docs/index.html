<!DOCTYPE html>
<html>
<head>
    <title>Mapa Interativo Olokun Im칩veis</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css?v=20251114" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js?v=20251114"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map {
            height: 100%;
            width: 100%;
        }
        .header {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 10000;
            background: rgba(255, 255, 255, 0.95);
            padding: 12px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            font-family: 'Arial', sans-serif;
            max-width: 280px;
            font-size: 13px;
        }
        .header h2 {
            margin: 0 0 8px 0;
            color: #2c3e50;
            font-size: 16px;
        }
        .header p {
            margin: 3px 0;
            color: #34495e;
        }
        .header .contact {
            margin-top: 8px;
            padding-top: 6px;
            border-top: 1px solid #ecf0f1;
        }
        .legend {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 9999;
            background: white;
            padding: 10px;
            border-radius: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            font-size: 13px;
            max-width: 180px;
        }
        .legend ul {
            padding-left: 0;
            margin: 6px 0 0 0;
            list-style: none;
        }
        .legend li {
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            cursor: pointer;
            font-size: 12px;
        }
        .legend-dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 6px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h2>游 Olokun Im칩veis</h2>
        <p><strong>Especialistas em im칩veis</strong></p>
        <div class="contact">
            <p>游 (48) 99999-9999</p>
            <p>游닎 contato@olokunimoveis.com.br</p>
            <p>游늸 Florian칩polis/SC</p>
        </div>
    </div>

    <div id="map"></div>

    <div class="legend">
        <b>游 Tipos de Im칩vel</b>
        <ul>
            <li onclick="toggleLayer('casas')"><span class="legend-dot" style="background-color:#1f77b4;"></span>Casa</li>
            <li onclick="toggleLayer('apartamentos')"><span class="legend-dot" style="background-color:#2ca02c;"></span>Apartamento</li>
            <li onclick="toggleLayer('comerciais')"><span class="legend-dot" style="background-color:#ff7f0e;"></span>Sala Comercial</li>
            <li onclick="toggleLayer('terrenos')"><span class="legend-dot" style="background-color:#d62728;"></span>Terreno</li>
            <li onclick="toggleLayer('galpoes')"><span class="legend-dot" style="background-color:#9467bd;"></span>Galp칚o Industrial</li>
        </ul>
        <p style="margin:6px 0 0 0; font-size:11px; color:#7f8c8d;">Clique para mostrar/ocultar</p>
    </div>

    <script>
        console.log('Script iniciado...');

        // Verificar se Leaflet est치 carregado
        if (typeof L === 'undefined') {
            console.error('Leaflet n칚o est치 carregado!');
        } else {
            console.log('Leaflet carregado:', L.version);
        }

        try {
            // Inicializar mapa
            console.log('Inicializando mapa...');
            var map = L.map('map').setView([-27.5954, -48.5480], 12);
            console.log('Mapa criado:', map);

            // Adicionar tile layer
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '춸 OpenStreetMap contributors'
            }).addTo(map);

            console.log('Tile layer adicionado');

            // Definir limites de zoom
            map.options.minZoom = 10;
            map.options.maxZoom = 18;

            // Dados dos im칩veis
            var imoveis = [
                {
                    tipo: 'Casa',
                    endereco: 'Rua das Flores, 100, Florian칩polis',
                    lat: -27.4305001,
                    lng: -48.4659858,
                    cor: '#1f77b4',
                    area: '200m',
                    quartos: 3,
                    banheiros: 2,
                    vagas: 2,
                    valor: 'R$ 550.000',
                    descricao: 'Linda casa com jardim e garagem',
                    foto: 'https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=300'
                },
                {
                    tipo: 'Apartamento',
                    endereco: 'Avenida Beira Mar, 500, Florian칩polis',
                    lat: -27.6023224,
                    lng: -48.6026133,
                    cor: '#2ca02c',
                    area: '70m',
                    quartos: 2,
                    banheiros: 1,
                    vagas: 1,
                    valor: 'R$ 300.000',
                    descricao: 'Apartamento com vista para o mar',
                    foto: 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=300'
                },
                {
                    tipo: 'Sala Comercial',
                    endereco: 'Rua XV de Novembro, 20, Centro, Florian칩polis',
                    lat: -27.5206258,
                    lng: -48.7637506,
                    cor: '#ff7f0e',
                    area: '40m',
                    quartos: 0,
                    banheiros: 1,
                    vagas: 0,
                    valor: 'R$ 1.200/m칡s',
                    descricao: 'Sala comercial bem localizada',
                    foto: 'https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=300'
                },
                {
                    tipo: 'Terreno',
                    endereco: 'Estrada Geral, Ratones, Florian칩polis',
                    lat: -27.5954,
                    lng: -48.5480,
                    cor: '#d62728',
                    area: '500m',
                    quartos: 0,
                    banheiros: 0,
                    vagas: 0,
                    valor: 'R$ 150.000',
                    descricao: 'Terreno plano para constru칞칚o',
                    foto: 'https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=300'
                },
                {
                    tipo: 'Galp칚o Industrial',
                    endereco: 'Rodovia SC-401, km 5, Florian칩polis',
                    lat: -27.5401647,
                    lng: -48.5054413,
                    cor: '#9467bd',
                    area: '600m',
                    quartos: 0,
                    banheiros: 2,
                    vagas: 5,
                    valor: 'R$ 850.000',
                    descricao: 'Galp칚o industrial com doca',
                    foto: 'https://images.unsplash.com/photo-1581094794329-c8112a89af12?w=300'
                }
            ];

            console.log('Dados dos im칩veis carregados:', imoveis.length, 'im칩veis');

            // Criar camadas para cada tipo
            var layers = {
                casas: L.layerGroup(),
                apartamentos: L.layerGroup(),
                comerciais: L.layerGroup(),
                terrenos: L.layerGroup(),
                galpoes: L.layerGroup()
            };

            console.log('Camadas criadas:', Object.keys(layers));

            // Adicionar marcadores
            imoveis.forEach(function(imovel, index) {
                console.log('Processando im칩vel', index + 1, ':', imovel.tipo);
                var tipoLayer = imovel.tipo.toLowerCase().replace(' ', '').replace('칚', 'a');
                if (tipoLayer === 'galp칚oindustrial') tipoLayer = 'galpoes';
                if (tipoLayer === 'salacomercial') tipoLayer = 'comerciais';

                console.log('Tipo de layer determinado:', tipoLayer);

                var marker = L.circleMarker([imovel.lat, imovel.lng], {
                    color: imovel.cor,
                    fillColor: imovel.cor,
                    fillOpacity: 0.8,
                    radius: 8,
                    weight: 2
                });

                console.log('Marcador criado para coordenadas:', imovel.lat, imovel.lng);

                var popupContent = `
                    <div style="width:250px; font-family:Arial, sans-serif;">
                        <h4 style="margin:0 0 8px 0; color:#2c3e50; font-size:14px;">${imovel.tipo}</h4>
                        <img src="${imovel.foto}" width="230" height="150" style="border-radius:3px; margin-bottom:8px; object-fit:cover;">
                        <p style="margin:3px 0; font-size:12px;"><strong>Endere칞o:</strong> ${imovel.endereco}</p>
                        <p style="margin:3px 0; font-size:12px;"><strong>츼rea:</strong> ${imovel.area}</p>
                        <p style="margin:3px 0; font-size:12px;"><strong>Quartos:</strong> ${imovel.quartos}</p>
                        <p style="margin:3px 0; font-size:12px;"><strong>Banheiros:</strong> ${imovel.banheiros}</p>
                        <p style="margin:3px 0; font-size:12px;"><strong>Vagas:</strong> ${imovel.vagas}</p>
                        <p style="margin:3px 0; font-size:14px; color:#e74c3c;"><strong>Valor:</strong> ${imovel.valor}</p>
                        <p style="margin:6px 0; font-style:italic; color:#7f8c8d; font-size:11px;">${imovel.descricao}</p>
                        <button onclick="window.open('mailto:contato@olokunimoveis.com.br?subject=Interesse em ${imovel.tipo} - ${imovel.endereco}')" style="background:#3498db; color:white; border:none; padding:6px 12px; border-radius:3px; cursor:pointer; font-size:11px;">游닎 Contato</button>
                    </div>
                `;

                marker.bindPopup(popupContent);
                marker.addTo(layers[tipoLayer]);
                console.log('Marcador adicionado  layer:', tipoLayer);
            });

            console.log('Adicionando camadas ao mapa...');
            // Adicionar camadas ao mapa inicialmente
            Object.values(layers).forEach(function(layer) {
                layer.addTo(map);
            });

            console.log('Adicionando controle de camadas...');
            // Adicionar controle de camadas
            L.control.layers(null, {
                "游 Casa": layers.casas,
                "游끽 Apartamento": layers.apartamentos,
                "游낇 Sala Comercial": layers.comerciais,
                "游꺔 Terreno": layers.terrenos,
                "游낈 Galp칚o Industrial": layers.galpoes
            }, {collapsed: false}).addTo(map);

            console.log('Mapa inicializado completamente com', imoveis.length, 'marcadores!');

        } catch (error) {
            console.error('Erro ao inicializar mapa:', error);
        }

        // Fun칞칚o para alternar camadas (compatibilidade com legenda)
        function toggleLayer(layerName) {
            console.log('Alternando layer:', layerName);
            var layer = layers[layerName];
            if (map.hasLayer(layer)) {
                map.removeLayer(layer);
                console.log('Layer removida:', layerName);
            } else {
                layer.addTo(map);
                console.log('Layer adicionada:', layerName);
            }
        }
    </script><!-- Atualizado em 14/11/2025 21:30 -->
</body>
</html>< ! - -   M a p a   a t u a l i z a d o   e m   1 1 / 1 4 / 2 0 2 5   2 1 : 2 2 : 1 8   - - > 
 
 